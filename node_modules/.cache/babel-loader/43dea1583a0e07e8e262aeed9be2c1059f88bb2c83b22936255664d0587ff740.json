{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Patni\\\\Downloads\\\\Final\\\\React-Agile-Track-System-Solution-main-main\\\\src\\\\components\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../../context/UserContext';\nimport { useFormik } from 'formik';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const history = useHistory();\n  const {\n    login\n  } = useContext(UserContext);\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().email('Invalid email format').required('Email is required'),\n      password: Yup.string().required('Password is required')\n    }),\n    onSubmit: async values => {\n      try {\n        const response = await axios.get(`http://localhost:4000/users`, {\n          params: {\n            email: values.email,\n            password: values.password\n          }\n        });\n        if (response.data.length > 0) {\n          const user = response.data[0];\n          login(user);\n          history.push(user.role === 'admin' ? '/' : '/profiles');\n        } else {\n          alert('Invalid email or password');\n        }\n      } catch (error) {\n        console.error('Error logging in:', error);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: formik.values.email,\n          onChange: formik.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), formik.errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: formik.errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: formik.values.password,\n          onChange: formik.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), formik.errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => history.push('/signup'),\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"YHqN56P7QgSSDA7LqNn7kDJ9UYA=\", false, function () {\n  return [useHistory, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","Yup","axios","useHistory","UserContext","useFormik","jsxDEV","_jsxDEV","Login","_s","history","login","formik","initialValues","email","password","validationSchema","object","string","required","onSubmit","values","response","get","params","data","length","user","push","role","alert","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","style","display","flexDirection","gap","type","name","value","onChange","handleChange","errors","color","marginTop","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Patni/Downloads/Final/React-Agile-Track-System-Solution-main-main/src/components/Login/Login.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../../context/UserContext';\n\nimport { useFormik } from 'formik';\n\nconst Login = () => {\n    const history = useHistory();\n    const { login } = useContext(UserContext);\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: ''\n        },\n        validationSchema: Yup.object({\n            email: Yup.string()\n                .email('Invalid email format')\n                .required('Email is required'),\n            password: Yup.string().required('Password is required')\n        }),\n        onSubmit: async (values) => {\n            try {\n                const response = await axios.get(`http://localhost:4000/users`, {\n                    params: {\n                        email: values.email,\n                        password: values.password\n                    }\n                });\n                if (response.data.length > 0) {\n                    const user = response.data[0];\n                    login(user);\n                    history.push(user.role === 'admin' ? '/' : '/profiles');\n                } else {\n                    alert('Invalid email or password');\n                }\n            } catch (error) {\n                console.error('Error logging in:', error);\n            }\n        }\n    });\n\n    return (\n        <div>\n            <h2>Login</h2>\n            <form onSubmit={formik.handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n                <label>\n                    Email:\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={formik.values.email}\n                        onChange={formik.handleChange}\n                    />\n                </label>\n                {formik.errors.email && <span style={{ color: 'red' }}>{formik.errors.email}</span>}\n\n                <label>\n                    Password:\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={formik.values.password}\n                        onChange={formik.handleChange}\n                    />\n                </label>\n                {formik.errors.password && <span style={{ color: 'red' }}>{formik.errors.password}</span>}\n\n                <button type=\"submit\">Login</button>\n            </form>\n\n            <div style={{ marginTop: '10px' }}>\n                <button onClick={() => history.push('/signup')}>Sign Up</button>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}