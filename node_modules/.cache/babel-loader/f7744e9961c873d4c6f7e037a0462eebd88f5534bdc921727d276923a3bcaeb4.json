{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Patni\\\\Downloads\\\\Final\\\\React-Agile-Track-System-Solution-main-main\\\\src\\\\components\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const history = useHistory();\n  const {\n    login\n  } = useContext(UserContext);\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().matches(/@/, 'Email must contain @').required('Email is required').email('Invalid email format'),\n      password: Yup.string().required('Password is required')\n    }),\n    onSubmit: async values => {\n      try {\n        const response = await axios.get(`http://localhost:4000/users?email=${values.email}&password=${values.password}`);\n        if (response.data.length > 0) {\n          const user = response.data[0];\n          login(user);\n          history.push(user.role === 'admin' ? '/' : '/profiles');\n        } else {\n          alert('Invalid email or password');\n        }\n      } catch (error) {\n        console.error('Error logging in:', error);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: formik.values.email,\n          onChange: formik.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), formik.errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: formik.errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: formik.values.password,\n          onChange: formik.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), formik.errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 44\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: formik.handleSubmit,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => history.push('/signup'),\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"YHqN56P7QgSSDA7LqNn7kDJ9UYA=\", false, function () {\n  return [useHistory, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useFormik","Yup","axios","useHistory","UserContext","jsxDEV","_jsxDEV","Login","_s","history","login","formik","initialValues","email","password","validationSchema","object","string","matches","required","onSubmit","values","response","get","data","length","user","push","role","alert","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","alignItems","gap","type","name","value","onChange","handleChange","errors","color","onClick","handleSubmit","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Patni/Downloads/Final/React-Agile-Track-System-Solution-main-main/src/components/Login/Login.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../../context/UserContext';\n\nconst Login = () => {\n    const history = useHistory();\n    const { login } = useContext(UserContext);\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: ''\n        },\n        validationSchema: Yup.object({\n            email: Yup.string()\n                .matches(/@/, 'Email must contain @')\n                .required('Email is required')\n                .email('Invalid email format'),\n            password: Yup.string().required('Password is required')\n        }),\n        onSubmit: async (values) => {\n            try {\n                const response = await axios.get(`http://localhost:4000/users?email=${values.email}&password=${values.password}`);\n                if (response.data.length > 0) {\n                    const user = response.data[0];\n                    login(user);\n                    history.push(user.role === 'admin' ? '/' : '/profiles');\n                } else {\n                    alert('Invalid email or password');\n                }\n            } catch (error) {\n                console.error('Error logging in:', error);\n            }\n        }\n    });\n\n    return (\n        <div>\n            <h2>Login</h2>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                <label>\n                    Email:\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={formik.values.email}\n                        onChange={formik.handleChange}\n                    />\n                </label>\n                {formik.errors.email && <span style={{ color: 'red' }}>{formik.errors.email}</span>}\n\n                <label>\n                    Password:\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={formik.values.password}\n                        onChange={formik.handleChange}\n                    />\n                </label>\n                {formik.errors.password && <span style={{ color: 'red' }}>{formik.errors.password}</span>}\n\n                <button onClick={formik.handleSubmit}>Login</button>\n            </div>\n\n            <div style={{ marginTop: '10px' }}>\n                <button onClick={() => history.push('/signup')}>Sign Up</button>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}